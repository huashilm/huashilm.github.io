<!DOCTYPE html>
<html>
<head>
	<title>贪吃蛇游戏</title>
	<style>
		#game-board {
			width: 600px;
			height: 400px;
			border: 2px solid black;
			margin: auto;
			position: relative;
		}

		.snake {
			width: 20px;
			height: 20px;
			background-color: green;
			position: absolute;
		}

		.food {
			width: 20px;
			height: 20px;
			background-color: red;
			position: absolute;
		}
	</style>
</head>
<body>
	<div id="game-board"></div>
	<script>
		// 定义游戏区域和方块大小
		const gameBoard = document.getElementById('game-board');
		const squareSize = 20;

		// 初始化贪吃蛇和食物位置
		let snake = [{x: 10, y: 10}];
		let food = {x: 5, y: 5};
		let direction = {x: 1, y: 0};

		// 绘制贪吃蛇和食物
		function draw() {
			// 清除之前的贪吃蛇和食物
			gameBoard.innerHTML = '';

			// 绘制贪吃蛇
			snake.forEach(segment => {
				const snakeElement = document.createElement('div');
				snakeElement.classList.add('snake');
				snakeElement.style.left = segment.x * squareSize + 'px';
				snakeElement.style.top = segment.y * squareSize + 'px';
				gameBoard.appendChild(snakeElement);
			});

			// 绘制食物
			const foodElement = document.createElement('div');
			foodElement.classList.add('food');
			foodElement.style.left = food.x * squareSize + 'px';
			foodElement.style.top = food.y * squareSize + 'px';
			gameBoard.appendChild(foodElement);
		}

		// 移动贪吃蛇和吃食物
		function move() {
			// 计算新的头部位置
			const head = {x: snake[0].x + direction.x, y: snake[0].y + direction.y};
			snake.unshift(head);

			// 判断是否吃到食物
			if (head.x === food.x && head.y === food.y) {
				// 随机生成新的食物位置
				food.x = Math.floor(Math.random() * (gameBoard.clientWidth / squareSize));
				food.y = Math.floor(Math.random() * (gameBoard.clientHeight / squareSize));
			} else {
				// 移除尾部
				snake.pop();
			}
		}

		// 设置键盘控制
		document.addEventListener('keydown', event => {
			if (event.key === 'ArrowUp') {
				direction = {x: 0, y: -1};
			} else if (event.key === 'ArrowDown') {
				direction = {x: 0, y: 1};
			} else if (event.key === 'ArrowLeft') {
				direction = {x: -1, y: 0};
			} else if (event.key === 'ArrowRight') {
				direction = {x: 1, y: 0};
			}
		});

		// 游戏循环
		let lastRenderTime = 0;
		function gameLoop(currentTime) {
			window.requestAnimationFrame(gameLoop);
			const secondsSinceLastRender = (currentTime - lastRenderTime) / 1000;
			if (secondsSinceLastRender < 1 / 5) return;

			lastRenderTime = currentTime;
			move();
			draw();
		}

		// 开始游戏
		draw();
		gameLoop();
	</script>
</body>
</html>